{
  "name": "pushup",
  "description": "Standard push-up exercise with proper form",
  "initial_state": "plank_up",
  "target_joints": ["left_elbow", "right_elbow", "left_shoulder", "right_shoulder", "back"],
  "rep_pattern": ["plank_up","bottom","plank_up"],

  "states": {
    "plank_up": {
      "conditions": {
        "min_left_elbow_angle": 160,
        "min_right_elbow_angle": 160,
        "max_left_elbow_angle": 180,
        "max_right_elbow_angle": 180
      }
    },
    "bottom": {
      "conditions": {
        "min_left_elbow_angle": 70,
        "min_right_elbow_angle": 70,
        "max_left_elbow_angle": 110,
        "max_right_elbow_angle": 110
      }
    }
  },

  "error_checks": [
    {
      "name": "elbow_flare",
      "message": "Keep elbows closer to your body",
      "type": "warning",
      "priority": 3,
      "check_in_states": ["descending", "bottom", "ascending"],
      "condition": {
        "type": "angle_difference",
        "joint1": "left_elbow",
        "joint2": "right_elbow",
        "max_difference": 10
      }
    },
    {
      "name": "sagging_hips",
      "message": "Keep your body straight - engage your core",
      "type": "warning",
      "priority": 2,
      "check_in_states": ["plank_up", "descending", "bottom", "ascending"],
      "condition": {
        "type": "angle_threshold",
        "joint": "back",
        "operator": ">",
        "threshold": 190
      }
    },
    {
      "name": "partial_range",
      "message": "Go lower - chest should nearly touch the ground",
      "type": "info",
      "priority": 1,
      "check_in_states": ["bottom"],
      "condition": {
        "type": "angle_threshold",
        "joint": "left_elbow",
        "operator": ">",
        "threshold": 100
      }
    },
    {
      "name": "wrist_safety",
      "message": "CAREFUL! Avoid hyperextending your wrists",
      "type": "safety",
      "priority": 5,
      "check_in_states": ["plank_up", "descending", "bottom", "ascending"],
      "condition": {
        "type": "angle_threshold",
        "joint": "left_elbow",
        "operator": "<",
        "threshold": 60
      }
    }
  ]
}

